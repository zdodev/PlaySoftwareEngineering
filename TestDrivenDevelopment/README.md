# í…ŒìŠ¤íŠ¸ ì£¼ë„ ê°œë°œ(Test Driven Development)

![test-driven-development](assets/test-driven-development.png)

## ìœ ë‹› í…ŒìŠ¤íŠ¸(Unit Test)

ìœ ë‹› í…ŒìŠ¤íŠ¸ëž€ ì»´í“¨í„° í”„ë¡œí”„ê·¸ëž˜ë°ì—ì„œ ì†ŒìŠ¤ì½”ë“œì˜ íŠ¹ì • ëª¨ë“ˆì´ ì˜ë„ëœ ëŒ€ë¡œ ì •í™•ížˆ ìž‘ë™í•˜ëŠ”ì§€ ê²€ì¦í•˜ëŠ” ì ˆì°¨ìž…ë‹ˆë‹¤. ì¦‰ ëª¨ë“  í•¨ìˆ˜ì™€ ë©”ì„œë“œì— ëŒ€í•œ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ìž‘ì„±í•˜ëŠ” ì ˆì°¨ë¥¼ ë§í•©ë‹ˆë‹¤.

## TDDì˜ ì„¸ ê°€ì§€ ì›ì¹™

1. ì‹¤íŒ¨í•˜ëŠ” ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë¥¼ ìž‘ì„±í•  ë•Œê¹Œì§€ ì‹¤ì œ ì½”ë“œë¥¼ ìž‘ì„±í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
2. ì»´íŒŒì¼ì€ ì‹¤íŒ¨í•˜ì§€ ì•Šìœ¼ë©´ì„œ ì‹¤í–‰ì´ ì‹¤íŒ¨í•˜ëŠ” ì •ë„ë¡œë§Œ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë¥¼ ìž‘ì„±í•©ë‹ˆë‹¤.
3. í˜„ìž¬ ì‹¤íŒ¨í•˜ëŠ” í…ŒìŠ¤íŠ¸ë¥¼ í†µê³¼í•  ì •ë„ë¡œë§Œ ì‹¤ì œ ì½”ë“œë¥¼ ìž‘ì„±í•©ë‹ˆë‹¤.

í…ŒìŠ¤íŠ¸ ì½”ë“œëŠ” ì‹¤ì œ ì½”ë“œ ëª»ì§€ì•Šê²Œ ì¤‘ìš”í•©ë‹ˆë‹¤. ê·¸ëŸ¬ë¯€ë¡œ í…ŒìŠ¤íŠ¸ ì½”ë“œë„ ì‹¤ì œ ì½”ë“œ ëª»ì§€ì•Šê²Œ ê¹¨ë—í•˜ê²Œ ìž‘ì„±í•´ì•¼ í•©ë‹ˆë‹¤. í…ŒìŠ¤íŠ¸ëŠ” ì½”ë“œì— ìœ ì—°ì„±ê³¼ ìœ ì§€ë³´ìˆ˜ì„± ê·¸ë¦¬ê³  ìž¬ì‚¬ìš©ì„±ì„ ì œê³µí•©ë‹ˆë‹¤. ì™œ? í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ê°€ ìžˆìœ¼ë©´ ë³€ê²½ì´ ë‘ë µì§€ ì•Šìœ¼ë‹ˆê¹Œìš”. ë³€ê²½ì´ ë‘ë µì§€ ì•Šìœ¼ë©´ ë” ì¢‹ì€ ì½”ë“œë¡œ ë³€ê²½í•˜ëŠ” ê²ƒì„ ì£¼ì €í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

ðŸ¤” í…ŒìŠ¤íŠ¸ ë‹¹ assert ë¬¸ì€ í•˜ë‚˜ë¡œ ì œí•œí•˜ëŠ” ê²ƒì´ ì¢‹ì„ê¹Œìš”? ì—¬ëŸ¬ assertë¥¼ ì‚¬ìš©í•˜ë„ë¡ í•˜ëŠ” ê²ƒì´ ì¢‹ì„ê¹Œìš”?

- assert ë¬¸ì´ í•˜ë‚˜ë¼ë©´ í•˜ë‚˜ì˜ í…ŒìŠ¤íŠ¸ë¥¼ ì´í•´í•˜ëŠ” ê²ƒì´ ìˆ˜ì›”í•˜ë‹¤ëŠ” ìž¥ì ì´ ìžˆì§€ë§Œ ì¤‘ë³µë˜ëŠ” ì½”ë“œê°€ ë§Žì•„ì§ˆ ìˆ˜ ìžˆìŠµë‹ˆë‹¤.
- í•˜ë‚˜ì˜ ê°œë… ë‹¹ assert ë¬¸ ìˆ˜ë¥¼ ìµœì†Œë¡œ ì¤„ì´ê³ , í…ŒìŠ¤íŠ¸ í•¨ìˆ˜ í•˜ë‚˜ëŠ” ê°œë… í•˜ë‚˜ë§Œ í…ŒìŠ¤íŠ¸í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.

## F.I.R.S.T. ì›ì¹™

- Fast, ë¹ ë¥´ê²Œ: í…ŒìŠ¤íŠ¸ëŠ” ë¹¨ë¼ì•¼ í•©ë‹ˆë‹¤.
- Independent, ë…ë¦½ì ìœ¼ë¡œ: ê° í…ŒìŠ¤íŠ¸ëŠ” ì„œë¡œ ì˜ì¡´í•˜ë©´ ì•ˆ ë©ë‹ˆë‹¤.
- Repeatable, ë°˜ë³µ ê°€ëŠ¥í•˜ê²Œ: í…ŒìŠ¤íŠ¸ëŠ” ì–´ë–¤ í™˜ê²½ì—ì„œë„ ë°˜ë³µ ê°€ëŠ¥í•´ì•¼ í•©ë‹ˆë‹¤. ì‹¤ì œ í™˜ê²½, QA í™˜ê²½, ë„¤íŠ¸ì›Œí¬ê°€ ì—°ê²°ë˜ì§€ ì•Šì€ ì»´í“¨í„°ì—ì„œë„ ì‹¤í–‰í•  ìˆ˜ ìžˆì–´ì•¼ í•©ë‹ˆë‹¤.
- Self-Validating, ìžê°€ê²€ì¦í•˜ëŠ”: í…ŒìŠ¤íŠ¸ëŠ” bool ê°’ìœ¼ë¡œ ê²°ê³¼ë¥¼ ë‚´ì•¼ í•©ë‹ˆë‹¤.
- Timely, ì ì‹œì—: í…ŒìŠ¤íŠ¸ëŠ” ì ì‹œì— ìž‘ì„±í•´ì•¼ í•©ë‹ˆë‹¤. í…ŒìŠ¤íŠ¸ë¥¼ ë¨¼ì € ìž‘ì„±í•˜ê³  ì‹¤ì œ ì½”ë“œë¥¼ êµ¬í˜„í•´ì•¼ í•©ë‹ˆë‹¤.

### SUT(System Under Test)

í…ŒìŠ¤íŠ¸ ëŒ€ìƒ ì‹œìŠ¤í…œ, ì¦‰ í…ŒìŠ¤ë¥¼ í•˜ë ¤ëŠ” ëŒ€ìƒì„ ì¹­í•©ë‹ˆë‹¤.

- Fake Object
- Dummy Object
- Mock Object
- Temporary Test Stub
- Test Stub
- Test Spy

### ìœ ë‹› í…ŒìŠ¤íŠ¸ ìŠ¤íƒ€ì¼

- Given -> When -> Then
    - Givenì€ í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤ì—ì„œ ìˆ˜í–‰í•  ë™ìž‘ì„ ì‹œìž‘í•˜ê¸° ì „ì— ìƒíƒœë¥¼ ë§í•©ë‹ˆë‹¤. í…ŒìŠ¤íŠ¸ì˜ ì‚¬ì „ ì¡°ê±´ìœ¼ë¡œ ë³¼ ìˆ˜ ìžˆìŠµë‹ˆë‹¤.
    - Whenì€ í…ŒìŠ¤íŠ¸ ìˆ˜í–‰í•  ë™ìž‘ì„ ë§í•©ë‹ˆë‹¤.
    - Thenì€ ìˆ˜í–‰í•œ ë™ìž‘ìœ¼ë¡œ ì¸í•´ ì˜ˆìƒë˜ëŠ” ë³€ê²½ì„ ë§í•©ë‹ˆë‹¤. í…ŒìŠ¤íŠ¸ê°€ ì˜ˆìƒí•œ ëŒ€ë¡œ ë™ìž‘í•˜ëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.
- Arrange -> Act -> Assert
- Setup -> Exercies -> Verify

### í…ŒìŠ¤íŠ¸ ë©”ì„œë“œëª… ìž‘ì„± ê¸°ì¤€

- test: test ì ‘ë‘ì‚¬ë¡œ ì‹œìž‘í•´ì•¼ í…ŒìŠ¤íŠ¸ ë©”ì„œë“œë¡œ ì¸ì‹í•©ë‹ˆë‹¤.
- unit of work: í–‰ìœ„ë¥¼ ìž‘ì„±í•©ë‹ˆë‹¤.
- state: ìž…ë ¥ê°’ê³¼ ì´ˆê¸° ìƒíƒœë¥¼ ìž‘ì„±í•©ë‹ˆë‹¤.
- outcome: ì˜ˆìƒí•˜ëŠ” ê²°ê³¼ê°’ì„ ìž‘ì„±í•©ë‹ˆë‹¤.
- ê° ëª…ì¹­ ì‚¬ì´ì— '_' ë¥¼ ì‚¬ìš©í•˜ì—¬ êµ¬ë¶„í•©ë‹ˆë‹¤.

![testNaming](assets/testNaming.png)

í…ŒìŠ¤íŠ¸ë¥¼ ìž‘ì„±í•  ë•Œ í…ŒìŠ¤íŠ¸ì—ê²Œ ë¹„êµí•˜ëŠ” ìš”êµ¬í•˜ëŠ” êµ¬ë¬¸ì„ ìž‘ì„±í•˜ë‹ˆ ì¢‹ì§€ ì•Šì€ í…ŒìŠ¤íŠ¸ë¼ê³  ìƒê°ì´ ë“¤ì—ˆìŠµë‹ˆë‹¤. output ê²°ê³¼ì— ëŒ€í•´ ì¼ë°˜í™”í•  ìˆ˜ ì—†ì—ˆê¸° ë•Œë¬¸ìž…ë‹ˆë‹¤.

```swift
// í…ŒìŠ¤íŠ¸ê°€ ê²°ê³¼ë¥¼ ì§ì ‘ ë¹„êµí•˜ëŠ” êµ¬ë¬¸
XCTAssertTrue(output[0] > output[1])
```

ë‹¤ìŒê³¼ ê°™ì´ ìž‘ì„±í•˜ë‹ˆ í…ŒìŠ¤íŠ¸ë¥¼ ì¼ë°˜í™”í•  ìˆ˜ ìžˆì–´ ë” ë²”ìš©ì ì´ë¼ê³  ìƒê°ì´ ë“¤ì—ˆìŠµë‹ˆë‹¤.

```swift
XCTAssertTrue(solution.isSameScore(output))
```

### ë„¤íŠ¸ì›Œí¬ì— ê°•í•˜ê²Œ ì˜ì¡´í•˜ê³  ìžˆì„ ë•Œ, F.I.R.S.T. ì›ì¹™ ì¤‘ Repeatable ì›ì¹™ì„ ì§€í‚¤ëŠ” í…ŒìŠ¤íŠ¸ë¥¼ ìž‘ì„±í•˜ê¸° ìœ„í•´ì„œëŠ”?

ë„¤íŠ¸ì›Œí¬ë‚˜ ì—¬ëŸ¬ ì‚¬ì´íŠ¸ ì´íŽ™íŠ¸ì— ê°•í•˜ê²Œ ì»¤í”Œë§ì´ ë˜ì–´ìžˆëŠ” ê°ì²´ë¥¼ ê°€ì§€ê³  í…ŒìŠ¤íŠ¸ë¥¼ í•  ë•Œ, ì™¸ë¶€ì—ì„œ ê°€ì§œ ë°ì´í„°ë¥¼ ì œê³µí•˜ëŠ” ì–´ë–¤ ìŠ¤í…ì´ë‚˜ ëª©ê°ì²´ë¥¼ ë„£ê³  ë™ìž‘ì„ í…ŒìŠ¤íŠ¸í•˜ëŠ” ê²ƒì´ í…ŒìŠ¤íŠ¸ ê¸°ë²•ì˜ í•˜ë‚˜ìž…ë‹ˆë‹¤.

### ì°¸ê³  ë§í¬

---

> [í…ŒìŠ¤íŠ¸ ì£¼ë„ ê°œë°œ](https://book.naver.com/bookdb/book_detail.nhn?bid=7443642)
>
> [Clean Code](https://book.naver.com/bookdb/book_detail.nhn?bid=7390287)
>
> [Unit Testing](https://en.wikipedia.org/wiki/Unit_testing)
>
> [Martin Fowler GivenWhenThen](https://martinfowler.com/bliki/GivenWhenThen.html)
>
> [xUnit Patterns Four-Phase Test](http://xunitpatterns.com/Four%20Phase%20Test.html)
>
> [YouTube Let's TDD - ì „ìˆ˜ì—´](https://www.youtube.com/watch?v=meTnd09Pf_M)